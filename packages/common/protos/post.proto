syntax="proto3";

package grpc.post.v1;

import "common.proto";

message PostDto {
    int64 id = 1;
    string author = 2;
    string imageId = 3;
    string description = 4;
    common.DateDto dateCreated = 5;
    int32 likes = 6;
    bool liked = 7;
}

message CreatePostRequest {
    int64 userId = 1;
    string username = 2;
    string imageId = 3;
    string description = 4;
}

message PostCreatedResponse {
    string message = 1;
    int64 postId = 2;
}

message DeletePostRequest {
    int64 userId = 1;
    int64 postId = 2;
}

message GetPostsRequest {
    int64 userId = 1;
}

message GetPostsResponse {
    repeated PostDto posts = 1;
}

service Post{
    rpc Create(CreatePostRequest) returns (PostCreatedResponse){}
    rpc Delete(DeletePostRequest) returns (common.EmptyResponse){}
    rpc GetPosts(GetPostsRequest) returns (GetPostsResponse){}
}